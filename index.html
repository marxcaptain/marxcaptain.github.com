<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<style>
	#box{position: relative; width: 700px; height: 400px; background: url(img/0.jpg) no-repeat; margin:50px auto; }
	#box .page1{position: absolute; top:0; right:0; width: 50%; height: 100%; z-index: 2;
		transform: perspective(800px) rotateY(0deg);
		/*transition: 1s all ease ;*/
		transform-style: preserve-3d;
		transform-origin:left center;
	}
	#box .page1 div{position: absolute; right:0; top:0; width: 100%; height: 100%; text-align: center; line-height: 400px; font-size: 50px;}
	#box .page1 .front{background: url(img/0.jpg) no-repeat right center; z-index: 2; transform: translateZ(1px); }
	#box .page1 .back{background: url(img/1.jpg) no-repeat ; z-index: 1; transform: scale(-1,1) translateZ(-1px);}
	#box .page2{position: absolute; top:0; right:0; width: 50%; height: 100%; background:  url(img/1.jpg) no-repeat right center; z-index: 1;}
	/*#box .page1:active{transform: perspective(800px) rotateY(-180deg);}*/ 
</style>
<script>
	window.onload=function(){
		var oBox=document.getElementById('box');
		var oPage1=oBox.querySelector('.page1');
		var oFront=oPage1.querySelector('.front');
		var oBack=oPage1.querySelector('.back');
		var oPage2=oBox.querySelector('.page2');
		var i=0;
		var bReady=true;
		oBox.onclick=function(){			
			if (!bReady) return; 
			bReady=false;
			i++;
			oPage1.style.transition='1s all ease';
			oPage1.style.transform= 'perspective(800px) rotateY(-180deg)';
		}

		oPage1.addEventListener('transitionend',function(){
			oPage1.style.transition='none';
			oPage1.style.transform='perspective(800px) rotateY(0deg)';

			oBox.style.backgroundImage=' url(img/'+i%3+'.jpg)';
			oFront.style.backgroundImage=' url(img/'+i%3+'.jpg)';
			oBack.style.backgroundImage=' url(img/'+(i+1)%3+'.jpg)';
			oPage2.style.backgroundImage=' url(img/'+(i+1)%3+'.jpg)';
			bReady=true;
		},false);

	}
</script>	
</head>
<body>
	<div id="box">
		<div class="page1">
			<div class="front">前</div>
			<div class="back">后</div>
		</div>
		<div class="page2"></div>
	</div>
</body>
</html>
